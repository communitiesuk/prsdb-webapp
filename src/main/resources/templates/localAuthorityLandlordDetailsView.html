<!DOCTYPE html>
<html id="page" th:replace="~{fragments/layout :: layout(#{landlordDetails.title}, ~{::#page/content()}, false)}">
    <a th:replace="~{fragments/forms/backLink :: backLink(${backUrl})}">Back link</a>
    <main class="govuk-main-wrapper" id="main-content">
        <h2 class="govuk-heading-m" th:text="#{landlordDetails.heading}">landlordDetails.heading</h2>

        <h1 class="govuk-heading-l" th:text="${name}">name</h1>

        <div th:replace="~{fragments/lastModifiedInsetText :: lastModifiedInsetText(${name}, ${lastModifiedDate})}"></div>

        <div id="tabs" th:replace="~{fragments/tabs/tabs :: tabs(~{::#tabs/content()})}">
            <ul id="tab-headings" th:replace="~{fragments/tabs/tabsHeadingList :: tabsHeadingList(~{::#tab-headings/content()})}">
                <li th:replace="~{fragments/tabs/tabsListItem :: tabsListItem('personal-details', #{landlordDetails.personalDetails.heading})}"></li>
                <li th:replace="~{fragments/tabs/tabsListItem :: tabsListItem(${registeredPropertiesTabId}, #{landlordDetails.registeredProperties.heading})}"></li>
            </ul>

            <div id="personal-details-panel" th:replace="~{fragments/tabs/tabsPanel :: tabsPanel('personal-details', ~{::#personal-details-panel/content()})}">
                <dl th:replace="~{fragments/summaryList :: summaryList(${landlord.personalDetails})}"></dl>
            </div>

            <div id="registered-properties-panel" th:replace="~{fragments/tabs/tabsPanel :: tabsPanel(${registeredPropertiesTabId}, ~{::#registered-properties-panel/content()})}">
                <th:block th:unless="${#lists.isEmpty(registeredPropertiesList)}">
                    <table th:replace="~{fragments/tables/table :: table(${ { 'landlordDetails.registeredProperties.table.addressHeading', 'landlordDetails.registeredProperties.table.registrationNumberHeading', 'landlordDetails.registeredProperties.table.localAuthorityHeading', 'landlordDetails.registeredProperties.table.licensingTypeHeading', 'landlordDetails.registeredProperties.table.tenantedHeading' } }, ~{::tbody}, null)}">
                        <tbody class="govuk-table__body">
                        <tr class="govuk_table__row" th:each="property: ${registeredPropertiesList}">
                            <td class="govuk-table__cell">
                                <a class="govuk-link" th:text="${property.address}" th:href="@{${property.recordLink}}">${property.address}</a>
                            </td>
                            <td class="govuk-table__cell" th:text="${property.registrationNumber}"></td>
                            <td class="govuk-table__cell" th:text="${property.localAuthorityName}"></td>
                            <td class="govuk-table__cell" th:text="#{${property.licenseTypeMessageKey}}"></td>
                            <td class="govuk-table__cell" th:text="#{${property.isTenantedMessageKey}}"></td>
                        </tr>
                        </tbody>
                    </table>
                </th:block>

                <p th:if="${#lists.isEmpty(registeredPropertiesList)}" class="govuk-body" th:text="#{landlordDetails.registeredProperties.none.beforeLink}">landlordDetails.registeredProperties.none.beforeLink</p>
            </div>
        </div>
    </main>
</html>