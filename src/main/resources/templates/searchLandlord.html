<!DOCTYPE html>
<html th:replace="~{fragments/layout :: layout(#{landlordSearch.title}, ~{::main}, false)}">
<main class="govuk-main-wrapper" id="main-content">
    <header>
        <h1 class="govuk-heading-l" th:text="#{landlordSearch.heading}">landlordSearch.heading</h1>
        <div class="govuk-hint" th:text="#{landlordSearch.hint}">landlordSearch.hint</div>
    </header>
    <section>
        <th:block th:replace="~{fragments/searchBar :: searchBar(
            #{landlordSearch.searchBar.label}, #{landlordSearch.searchBar.hint}, ${searchWrapperModel})}">
        </th:block>
        <th:block th:if="${searchResults != null}">
            <hr class="govuk-section-break govuk-section-break--m">
            <th:block th:if="${totalPages > 1}">
                <nav th:replace="~{fragments/pagination/pagination :: pagination(${totalPages}, ${currentPage}, ${unpagedUrl})}"></nav>
            </th:block>
            <h2 class="govuk-heading-m" th:text="#{landlordSearch.table.heading}">landlordSearch.table.heading</h2>
            <table th:replace="~{fragments/tables/table :: table(
                ${ {'landlordSearch.table.heading.landlord','landlordSearch.table.heading.address','landlordSearch.table.heading.info'} },
                ~{::tbody},
                #{landlordSearch.table.heading}
            )}">
                <tbody class="govuk-table__body">
                <tr class="govuk_table__row" th:each="landlord: ${searchResults}">
                    <td class="govuk-table__cell govuk-!-width-one-third">
                        <a class="govuk-link" th:href="@{${baseLandlordDetailsURL + '/' + landlord.id}}"
                           th:text="${landlord.name}"></a>
                        <br>
                        <span th:remove="tag" th:text="${landlord.registrationNumber}"></span>
                    </td>
                    <td class="govuk-table__cell govuk-!-width-one-third" th:text="${landlord.contactAddress}"></td>
                    <td class="govuk-table__cell govuk-!-width-one-third">
                        <span th:remove="tag" th:text="${landlord.phoneNumber}"></span>
                        <br>
                        <span th:remove="tag" th:text="${landlord.email}"></span>
                    </td>
                </tr>
                </tbody>
            </table>
            <th:block th:if="${totalPages > 1}">
                <nav th:replace="~{fragments/pagination/pagination :: pagination(${totalPages}, ${currentPage},${parameterStringNoPage})}"></nav>
            </th:block>
            <div th:if="${searchResults.size() == 0}"
                 class="govuk-!-text-align-centre govuk-!-margin-bottom-6" id="no-results">
                <h1 class="govuk-heading-l" th:text="#{landlordSearch.error.heading}">
                    landlordSearch.error.heading
                </h1>
                <div class="govuk-hint">
                    <span th:remove="tag" th:text="#{landlordSearch.error.hint.beforeLink}">landlordSearch.error.hint.beforeLink</span>
                    <a class="govuk-link" th:href="@{${propertySearchURL}}"
                       th:text="#{landlordSearch.error.hint.link}">landlordSearch.error.hint.link
                    </a>
                </div>
            </div>
        </th:block>
        <details id="details-content"
                 th:replace="~{fragments/details :: details(#{landlordSearch.details.heading},~{::#details-content/content()})}">
            <div class="govuk-details__text" th:text="#{landlordSearch.details.body}">landlordSearch.details.body</div>
        </details>
    </section>
</main>
</html>