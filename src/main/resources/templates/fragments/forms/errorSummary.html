<th:block th:fragment="errorSummary()" th:if="${#fields.hasAnyErrors()}">
    <div class="govuk-error-summary" data-module="govuk-error-summary">
        <div role="alert">
            <h2 class="govuk-error-summary__title" th:text="#{forms.errorSummary.heading}"></h2>
            <div class="govuk-error-summary__body">
                <ul class="govuk-list govuk-error-summary__list">
                    <li th:each="error: ${#fields.detailedErrors()}" th:if="${#fields.hasErrors(error.fieldName) && error.message != '_'}">
                        <a th:href="'#' + __${error.fieldName}__" th:text="#{${error.message}}"></a>
                    </li>
                </ul>
            </div>
        </div>
    </div>
</th:block>