<!--/*@thymesVar id="plausibleDomainId" type="String"*/-->
<!--/*@thymesVar id="googleAnalyticsMeasurementId" type="String"*/-->
<!--/*@thymesVar id="navLinks" type="java.util.List<String>"*/-->
<!DOCTYPE html>
<html th:fragment="layout(title, content, hasErrors)" lang="en" class="govuk-template govuk-template--rebranded">
<head>
    <meta charset="utf-8">
    <title th:text="((${hasErrors}) ? #{forms.errorMessage.prefix} : '' ) + ${title}">GOV.UK - The best place to find government services and information</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">
    <meta name="theme-color" content="#1d70b8">
    <link rel="icon" sizes="48x48" th:href="@{/assets/rebrand/images/favicon.ico}">
    <link rel="icon" sizes="any" th:href="@{/assets/rebrand/images/favicon.svg}" type="image/svg+xml">
    <link rel="mask-icon" th:href="@{/assets/rebrand/images/govuk-icon-mask.svg}" color="#1d70b8">
    <link rel="apple-touch-icon" th:href="@{/assets/rebrand/images/govuk-icon-180.png}">
    <link rel="manifest" th:href="@{/assets/rebrand/manifest.json}" crossorigin="use-credentials">
    <link rel="stylesheet" th:href="@{/assets/css/govuk-frontend.min.css}">
    <link rel="stylesheet" th:href="@{/assets/css/service-header.css}">
    <link rel="stylesheet" th:href="@{/assets/css/accessible-autocomplete.min.css}"/>
    <link rel="stylesheet" th:href="@{/assets/css/moj-frontend.min.css}">
    <link rel="stylesheet" th:href="@{/assets/css/custom.css}">
    <script defer th:attr="data-domain=${plausibleDomainId}" src="https://plausible.io/js/script.file-downloads.hash.outbound-links.js"></script>
    <script>window.plausible = window.plausible || function() { (window.plausible.q = window.plausible.q || []).push(arguments) }</script>
    <script th:inline="javascript">
        const referrer = [[${referrerHeader}]];
        const currentUrl = [[${currentUrl}]];
        if (window.plausible) {
            plausible('Flow', {
                props: {
                    referrer: referrer,
                    currentUrl: currentUrl
                }
            });
        }
    </script>
</head>
<script>
    <!-- Set consent for Google tag to denied by default -->
    window.dataLayer = window.dataLayer || [];
    function gtag() { dataLayer.push(arguments); }
    gtag('consent', 'default', {
        'ad_user_data': 'denied',
        'ad_personalization': 'denied',
        'ad_storage': 'denied',
        'analytics_storage': 'denied',
        'wait_for_update': 500,
    });
</script>
<script async th:src="'https://www.googletagmanager.com/gtag/js?id='+${googleAnalyticsMeasurementId}"></script>
<script th:inline="javascript" th:with="measurementIdAsString=${googleAnalyticsMeasurementId}">
    <!-- Google tag (gtag.js) -->
    window.dataLayer = window.dataLayer || [];
    function gtag() { dataLayer.push(arguments); }
    gtag('js', new Date());
    gtag('config', [[${measurementIdAsString}]])
</script>
<script th:inline="javascript">
    // Add environment variables to the window so they can be accessed in js scripts
    window.GOOGLE_ANALYTICS_MEASUREMENT_ID = [[${googleAnalyticsMeasurementId}]];
    window.GOOGLE_COOKIE_DOMAIN = [[${googleAnalyticsCookieDomain}]];
</script>
<body class="govuk-template__body">
<script>
    document.body.className += ' js-enabled' + ('noModule' in HTMLScriptElement.prototype ? ' govuk-frontend-supported' : '');
</script>
<div th:replace="~{ fragments/banners/cookieBanner:: cookieBanner }"></div>
<a href="#main-content" class="govuk-skip-link" data-module="govuk-skip-link">Skip to main content</a>
<header th:replace="~{fragments/header/header :: header(${navLinks})}"></header>
<div class="govuk-width-container">
    <div th:replace="~{fragments/banners/betaBanner :: betaBanner}"></div>
    <div th:replace="${content}"></div>
</div>
<div th:replace="~{fragments/footer :: footer}"></div>
<script type="module" th:src="@{/assets/js/index.js}"></script>
<script type="module" th:src="@{/assets/js/service-header.js}"></script>
</body>
</html>
