<!DOCTYPE html>
<html th:replace="~{fragments/layout :: layout(#{manageLAUsers.title}, ~{::main})}">
<main class="govuk-main-wrapper" id="main-content">
    <div id="page-contents"
         th:replace="~{fragments/layouts/twoThirdsLayout :: twoThirdsLayout(~{::#page-contents/content()})}">
        <header id="header">
            <h1 class="govuk-heading-l" th:text="#{manageLAUsers.contentHeader(${localAuthority})}">
                manageLAUsers.contentHeader
            </h1>
        </header>
        <section>
            <table th:replace="~{fragments/tables/table :: table(
                    ${ { 'manageLAUsers.table.usernameHeading', 'manageLAUsers.table.accessLevelHeading', 'manageLAUsers.table.accountStatusHeading', '' } },
                    ~{::tbody}
                )}
            ">
                <tbody class="govuk-table__body">
                <tr class="govuk_table__row" th:each="user: ${userList}">
                    <td class="govuk-table__cell" th:text="${user.userName}"></td>
                    <td class="govuk-table__cell"
                        th:text="${user.manager} ? #{manageLAUsers.table.admin} : #{manageLAUsers.table.basic}"></td>
                    <td class="govuk-table__cell">
                        <span class="govuk-tag"
                              th:classappend="${user.pending ? 'govuk-tag--blue' : 'govuk-tag--green'}">
                            <strong th:text="${user.pending} ? #{manageLAUsers.table.pending} : #{manageLAUsers.table.active}"></strong>
                        </span>
                    </td>
                    <td class="govuk-table__cell"><a
                            th:href="@{${user.pending ? '#' : 'manage-users/edit-user/' + user.id}}"
                            class="govuk-link"
                            th:text="#{manageLAUsers.table.change}"></a></td>
                </tr>
                </tbody>
            </table>
            <div th:if="${totalPages > 1}">
                <nav th:replace="~{fragments/pagination/pagination :: pagination(${totalPages}, ${currentPage})}">
                </nav>
            </div>
            <div class="govuk-button-group" id="action-buttons">
                <button th:replace="~{fragments/buttons/primaryButton :: primaryButton(#{manageLAUsers.inviteAnotherUserButtonText})}"></button>
                <button th:replace="~{fragments/buttons/secondaryButton :: secondaryButton(#{manageLAUsers.returnToDashboardButton})}"></button>
            </div>
        </section>
    </div>
</main>
</html>