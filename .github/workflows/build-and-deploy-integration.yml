name: Build and Deploy Integration
on:
  push:
    branches:
      - main
      - feat/PRSD-970-commonise-deployment-workflow

jobs:
  call-workflow-passing-data:
    uses: ./.github/workflows/build-and-deploy.yml
    with:
      environment: "integration"
      build-and-deploy-role: "arn:aws:iam::794038239680:role/integration-push-image"
      update-ecs-role: "arn:aws:iam::794038239680:role/github-actions-terraform-admin"
      ecr-repository: "integration-webapp"
      account-id: "794038239680"